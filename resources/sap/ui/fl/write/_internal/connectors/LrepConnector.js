/*
 * ! OpenUI5
 * (c) Copyright 2009-2019 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.define(["sap/base/util/merge","sap/ui/fl/write/connectors/BaseConnector","sap/ui/fl/apply/_internal/connectors/Utils","sap/ui/fl/Utils"],function(m,B,A,F){"use strict";var R={FLEX_INFO:"/flex/info/",PUBLISH:"/actions/make_changes_transportable/",RESET:"/changes/",SETTINGS:"/flex/settings"};var L=m({},B,{reset:function(p){var P=["reference","layer","appVersion","changelist","generator"];var a=A.getSubsetOfObject(p,P);var c=F.getUrlParameter("sap-client");if(c){a["sap-client"]=c;}if(p.selectorIds){a.selector=p.selectorIds;}if(p.changeTypes){a.changeType=p.changeTypes;}delete p.reference;var d=A.getUrl(R.RESET,p,a);return A.sendRequest(d,"DELETE");},publish:function(p){var P=["reference","layer","appVersion","changelist","package"];var a=A.getSubsetOfObject(p,P);var c=F.getUrlParameter("sap-client");if(c){a["sap-client"]=c;}delete p.reference;var d=A.getUrl(R.PUBLISH,p,a);return A.sendRequest(d,"POST");},getFlexInfo:function(p){var P=["layer","appVersion"];var a=A.getSubsetOfObject(p,P);var c=F.getUrlParameter("sap-client");if(c){a["sap-client"]=c;}var d=A.getUrl(R.FLEX_INFO,p,a);return A.sendRequest(d);},loadFeatures:function(p){var P={};var c=F.getUrlParameter("sap-client");if(c){P["sap-client"]=c;}var f=A.getUrl(R.SETTINGS,p,P);return A.sendRequest(f);}});return L;},true);
