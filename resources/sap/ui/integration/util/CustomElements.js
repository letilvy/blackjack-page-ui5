/*!
* OpenUI5
 * (c) Copyright 2009-2019 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
*/
sap.ui.define(["sap/base/Log"],function(L){"use strict";var E=window.Element;if(E.prototype.getAttributeNames==undefined){E.prototype.getAttributeNames=function(){var g=this.attributes;var l=g.length;var r=new Array(l);for(var i=0;i<l;i++){r[i]=g[i].name;}return r;};}var e=document.createElement("span"),o,I={registerTag:function registerTag(t,p,g){p=p+"-";var h=p+t;d.apply(this,[h,g]);},coreInstance:null};function a(){if(typeof window.CustomEvent==="function"){return false;}function C(g,p){p=p||{bubbles:false,cancelable:false,detail:undefined};var h=document.createEvent('CustomEvent');h.initCustomEvent(g,p.bubbles,p.cancelable,p.detail);return h;}C.prototype=window.Event.prototype;window.CustomEvent=C;}function f(n,g,h){var i=new window.CustomEvent(g),j=n.getAttribute("on-"+g);i.data=h;if(j){e.setAttribute("onclick",j);n.addEventListener(g,e.onclick);}n.dispatchEvent(i);}function c(){var g={childList:true,subtree:true};function h(m,o){m.forEach(function(j){if(j.type=='childList'){var k=j.addedNodes,r=j.removedNodes,n,x,l,t,i;for(l=0;l<k.length;l++){n=k[l];if(!document.createCustomElement._querySelector){return;}if(n.tagName&&document.createCustomElement.hasOwnProperty(n.tagName.toLowerCase())){if(!n._control){document.createCustomElement[n.tagName.toLowerCase()].connectToNode(n);}n._control._connectedCallback();}if(n.tagName){t=n.querySelectorAll(document.createCustomElement._querySelector);for(i=0;i<t.length;i++){x=t[i];if(x.tagName&&document.createCustomElement.hasOwnProperty(x.tagName.toLowerCase())){if(!x._control){document.createCustomElement[x.tagName.toLowerCase()].connectToNode(x);}x._control._connectedCallback();}}}}for(l=0;l<r.length;l++){n=r[l];if(!document.createCustomElement._querySelector){return;}if(n._control){n._control._disconnectedCallback();}if(n.tagName){t=n.querySelectorAll(document.createCustomElement._querySelector);for(i=0;i<t.length;i++){x=t[i];if(x._control){x._control._disconnectedCallback();}}}}}else if(j.type==="attributes"&&j.target&&j.target._control){j.target._control._changeProperty.call(j.target._control,j.attributeName,j.target.getAttribute(j.attributeName));}});}var o=new window.MutationObserver(h);if(!document.body){L.error("CustomElements.js was loaded before a body element was present in the DOM. Ensure to load CustomElements.js after the document was parsed, i.e. after the windows onload event.");return null;}o.observe(document.body,g);return o;}function b(t){if(typeof t!=="string"){return false;}try{JSON.parse(t);return true;}catch(g){return false;}}function d(p,T){if(document.createCustomElement[p]){return document.createCustomElement[p];}var t=T.getMetadata(),g=t.getAllProperties(),h=t.getAllAssociations(),j=t.getEvents(),k={};Object.keys(g).map(function(n){k[n.toLowerCase()]=g[n];});Object.keys(h).map(function(n){k[n.toLowerCase()]=h[n];});Object.keys(j).map(function(n){k["on-"+n.toLowerCase()]=j[n];});var l=function(r){this._node=r;r._control=this;l.initCloneNode(r);l.defineProperties(r);this._controlImpl=this._controlImpl||new T();this._changeProperties(r);this._uiArea=I.coreInstance.createUIArea(r);this._uiArea.addContent(this._controlImpl);if(l.isInActiveDocument(r)){this._connectedCallback();}Object.keys(j).map(function(n){this._controlImpl[j[n]._sMutator](function(s){f(r,n,s);});}.bind(this));return r;};l.cloneNode=function(){var n=this._cloneNode.call(this);n.removeAttribute("data-sap-ui-area");n.removeAttribute("id");n._controlImpl=this._control._controlImpl.clone();l.connectToNode(n);return n;};l.initCloneNode=function(r){if(!r._cloneNode){r._cloneNode=r.cloneNode;r.cloneNode=l.cloneNode;}};l.isInActiveDocument=function(r){return!!(r.parentNode&&r.ownerDocument===document);};l.defineProperty=function(r,n,s){Object.defineProperty(r,n,{get:function(){return t.getProperty(n).get(r._control._controlImpl);},set:function(v){r._control._changeProperty(n,v);return t.getProperty(n).get(r._control._controlImpl);}});};l.defineProperties=function(r){for(var n in k){if(n.charAt(0)!=="_"){l.defineProperty(r,n,k[n].defaultValue);}}};l.observer=o;l.connectToNode=function(r){new l(r);return l.observer&&l.observer.observe(r,{attributes:true});};l.prototype._connectedCallback=function(){this._connected||((this._connected=true)&&this._controlImpl.invalidate());};l.prototype._disconnectedCallback=function(){this._connected=false;};l.prototype._changeProperties=function(r){var n=r.getAttributeNames();for(var i=0;i<n.length;i++){this._changeProperty(n[i],r.getAttribute(n[i]));}};l.prototype._changeProperty=function(n,u){var v=this._controlImpl,w=k[n];if(n==="id"){return;}if(w&&(w._iKind===0||w._iKind===3)){var x=w.getType();var V=x.parseValue(u);var O=w.get(v);if(n==="manifest"&&x.getName()==="any"&&b(V)){V=JSON.parse(V);}if(x.isValid(V)){w.set(v,V);}else{w.set(v,O);}}else if(n==="class"){var C=u.split(" ");this._addedClasses=this._addedClasses||[];this._addedClasses.forEach(function(s){if(s){v.removeStyleClass(s);}});C.forEach(function(s){s=v.addStyleClass(s);});this._addedClasses=C;}};l.prototype.fireCustomEvent=function(n,s){f(this._node,n,s);};var m=document.createCustomElement;m[p]=l;if(m._querySelector){m._querySelector+=",";}else{Object.defineProperty(m,"_querySelector",{enumerable:false,writable:true});m._querySelector="";}var S=p.replace("-","\\-");m._querySelector+=S;var q=document.querySelectorAll(S);for(var i=0;i<q.length;i++){var r=q[i];m[p].connectToNode(r);}return l;}if(!document.createCustomElement){document.createCustomElement=function(t){var n=document.createElement(t);document.createCustomElement[t].connectToNode(n);return n;};}a();o=c();return I;});
